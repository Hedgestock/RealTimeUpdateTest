<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Welcome to the world of sse !</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <base href="http://localhost:3103"/>
</head>
<body>
    <div style="display: flex; flex-direction: column">

        <h2>Simple get on node proxy</h2>
        <input id="StringVersion" disabled placeholder="Version number should be here."/>
        <textarea id="Data" disabled placeholder="Data should be here." style="resize: vertical"></textarea>
        <button onclick="fetchData()">Get proxy value</button>
        <script>
            var StringVersion = document.getElementById('StringVersion');
            var Data = document.getElementById('Data');
  

            function setFields(data) {
                var message = JSON.parse(data);

                StringVersion.value = "Version: " + message.version;
                Data.value = "Data: \n" + message.data;
            }

            function fetchData() {
                fetch("/data").then(res => res.text()).then(text => setFields(text));
            }

            fetchData();
        </script>
    </div>
</body>
</html>